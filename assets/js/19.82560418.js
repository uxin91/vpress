(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{293:function(t,e,n){"use strict";n.r(e);var s=n(10),a=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"react-native-初始化安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-native-初始化安装"}},[t._v("#")]),t._v(" react-native 初始化安装")]),t._v(" "),e("p",[t._v("前面几部按照官网上面一步步来基本上没有问题。")]),t._v(" "),e("ul",[e("li",[t._v("Yarn是 Facebook 提供的替代 npm 的工具，可以加速 node 模块的下载。")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n")])])]),e("ul",[e("li",[e("p",[t._v("安装 Android Studio，这个软件会默认把sdk安装好，SDK 默认是安装在下面的目录："),e("code",[t._v("c:\\Users\\你的用户名\\AppData\\Local\\Android\\Sdk")])])]),t._v(" "),e("li",[e("p",[t._v("配置 ANDROID_HOME 环境变量")])])]),t._v(" "),e("img",{attrs:{src:t.$withBase("/rn1.png")}}),t._v(" "),e("ul",[e("li",[t._v("把一些工具目录添加到环境变量 Path 中")])]),t._v(" "),e("div",{staticClass:"language-md extra-class"},[e("pre",{pre:!0,attrs:{class:"language-md"}},[e("code",[t._v("%ANDROID_HOME%\\platform-tools\n%ANDROID_HOME%\\emulator\n%ANDROID_HOME%\\tools\n%ANDROID_HOME%\\tools\\bin\n")])])]),e("ul",[e("li",[e("p",[t._v("创建项目 "),e("code",[t._v("npx react-native init AwesomeProject")])])]),t._v(" "),e("li",[e("p",[t._v("创建cli:"),e("code",[t._v("npm install -g react-native-cli")])])]),t._v(" "),e("li",[e("p",[t._v("更改文件，此处可以选择将离线包提前发到对应目录，来节约下载时间")])])]),t._v(" "),e("img",{attrs:{src:t.$withBase("/rn2.png")}}),t._v(" "),e("img",{attrs:{src:t.$withBase("/rn3.png")}}),t._v(" "),e("ul",[e("li",[t._v("使用阿里云镜像，来替代需要翻墙的google()和jcenter（）\n"),e("img",{attrs:{src:t.$withBase("/rn4.png")}})])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("将android/build.gradle中的jcenter()和google()分别替换为maven { url 'https://maven.aliyun.com/repository/jcenter' }和maven { url 'https://maven.aliyun.com/repository/google' }（注意有多处需要替换）。")])]),t._v(" "),e("ul",[e("li",[t._v("安卓lincences问题")])]),t._v(" "),e("p",[t._v("为解决如下报错\n::: md\nFailed to install the following Android SDK packages as some licences have not been accepted.")]),t._v(" "),e("p",[t._v("You have not accepted the license agreements of the following SDK components:")]),t._v(" "),e("p",[t._v("[Android SDK Build-Tools 24, Android SDK Platform 24].")]),t._v(" "),e("p",[t._v("Before building your project, you need to accept the license agreements and complete the installation of the missing components using the Android Studio SDK Manager.")]),t._v(" "),e("p",[t._v("Alternatively, to learn how to transfer the license agreements from one workstation to another, go to http://d.android.com/r/studio-ui/export-licenses.html\n:::")]),t._v(" "),e("p",[t._v("处理方法：")]),t._v(" "),e("ul",[e("li",[t._v("首先打开命令行，进入到报错的sdk路径，找到可以处理licences的文件")])]),t._v(" "),e("p",[t._v("::: sh\ncd C:\\Users\\17720\\AppData\\Local\\Android\\SDK")]),t._v(" "),e("p",[t._v("cd tools")]),t._v(" "),e("p",[t._v("cd bin\n:::")]),t._v(" "),e("ul",[e("li",[t._v("这时该路径下有一个windows批处理文件sdkmanager，用这个来解决问题，调用命令")])]),t._v(" "),e("p",[t._v("::: sh\nsdkmanager --licenses\n:::")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("然后等一小会就巴拉巴拉一大堆licenses等待你同意，全部选yes就可以")])]),t._v(" "),e("li",[e("p",[t._v("将程序连接到模拟器")])])]),t._v(" "),e("p",[t._v("::: sh\nadb connect 127.0.0.1:7555")]),t._v(" "),e("p",[t._v("adb devices\n:::")]),t._v(" "),e("p",[t._v("有提示信息就说明连上了。这里用的网易mumu模拟器，端口为7555")]),t._v(" "),e("img",{attrs:{src:t.$withBase("/rn5.png")}}),t._v(" "),e("ul",[e("li",[t._v("运行")])]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" AwesomeProject\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" android\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" react-native run-android\n")])])]),e("p",[t._v("node窗口不要关，是负责同步代码的。成功后就能看到\n"),e("img",{attrs:{src:t.$withBase("/rn6.png")}})])])}),[],!1,null,null,null);e.default=a.exports}}]);