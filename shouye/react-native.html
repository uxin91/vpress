<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react-native 初始化安装 | 记录 V1.0</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/public/roc.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.12e0ab05.css" as="style"><link rel="preload" href="/assets/js/app.4b9f0a6a.js" as="script"><link rel="preload" href="/assets/js/2.2dc7f74a.js" as="script"><link rel="preload" href="/assets/js/19.82560418.js" as="script"><link rel="prefetch" href="/assets/js/10.9cbda4be.js"><link rel="prefetch" href="/assets/js/11.602f6d35.js"><link rel="prefetch" href="/assets/js/12.29fc785f.js"><link rel="prefetch" href="/assets/js/13.836b7877.js"><link rel="prefetch" href="/assets/js/14.5964bedc.js"><link rel="prefetch" href="/assets/js/15.741dfcaf.js"><link rel="prefetch" href="/assets/js/16.859181ea.js"><link rel="prefetch" href="/assets/js/17.ea2ab5b9.js"><link rel="prefetch" href="/assets/js/18.a30b886d.js"><link rel="prefetch" href="/assets/js/20.8c2c0626.js"><link rel="prefetch" href="/assets/js/21.8debe47e.js"><link rel="prefetch" href="/assets/js/22.18ad9d9b.js"><link rel="prefetch" href="/assets/js/23.183b6984.js"><link rel="prefetch" href="/assets/js/24.1d0701eb.js"><link rel="prefetch" href="/assets/js/3.3df301be.js"><link rel="prefetch" href="/assets/js/4.81e675e8.js"><link rel="prefetch" href="/assets/js/5.a76c12a1.js"><link rel="prefetch" href="/assets/js/6.5f80c3c1.js"><link rel="prefetch" href="/assets/js/7.d6c07dc4.js"><link rel="prefetch" href="/assets/js/8.16563041.js"><link rel="prefetch" href="/assets/js/9.8b248ae8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.12e0ab05.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="./roc.png" alt="记录 V1.0" class="logo"> <span class="site-name can-hide">记录 V1.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  博客首页
</a></div><div class="nav-item"><a href="/shouye/" class="nav-link router-link-active">
  前端笔记
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  前端文档
</a></div><div class="nav-item"><a href="/globe/" class="nav-link">
  后端PHP
</a></div><div class="nav-item"><a href="/cloud/" class="nav-link">
  运维实施
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  博客首页
</a></div><div class="nav-item"><a href="/shouye/" class="nav-link router-link-active">
  前端笔记
</a></div><div class="nav-item"><a href="/docs/" class="nav-link">
  前端文档
</a></div><div class="nav-item"><a href="/globe/" class="nav-link">
  后端PHP
</a></div><div class="nav-item"><a href="/cloud/" class="nav-link">
  运维实施
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/shouye/" aria-current="page" class="sidebar-link">ES6新增属性记录</a></li><li><a href="/shouye/react.html" class="sidebar-link">react随笔</a></li><li><a href="/shouye/react-native.html" aria-current="page" class="active sidebar-link">react-native 初始化安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/shouye/react-native.html#react-native-初始化安装" class="sidebar-link">react-native 初始化安装</a></li></ul></li><li><a href="/shouye/webpack.html" class="sidebar-link">webpack 1.0 配置</a></li><li><a href="/shouye/css.html" class="sidebar-link">弹性布局和流式布局</a></li><li><a href="/shouye/vue.html" class="sidebar-link">VUE随笔</a></li><li><a href="/shouye/vuepress.html" class="sidebar-link">vuepress踩坑</a></li><li><a href="/shouye/js.html" class="sidebar-link">原生js实现拖动色块变色</a></li><li><a href="/shouye/electron.html" class="sidebar-link">electron 踩坑记录</a></li><li><a href="/shouye/taro.html" class="sidebar-link">taro踩坑和小记</a></li><li><a href="/shouye/mock.html" class="sidebar-link">mock的基本使用</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="react-native-初始化安装"><a href="#react-native-初始化安装" class="header-anchor">#</a> react-native 初始化安装</h2> <p>前面几部按照官网上面一步步来基本上没有问题。</p> <ul><li>Yarn是 Facebook 提供的替代 npm 的工具，可以加速 node 模块的下载。</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span>
</code></pre></div><ul><li><p>安装 Android Studio，这个软件会默认把sdk安装好，SDK 默认是安装在下面的目录：<code>c:\Users\你的用户名\AppData\Local\Android\Sdk</code></p></li> <li><p>配置 ANDROID_HOME 环境变量</p></li></ul> <img src="/rn1.png"> <ul><li>把一些工具目录添加到环境变量 Path 中</li></ul> <div class="language-md extra-class"><pre class="language-md"><code>%ANDROID_HOME%\platform-tools
%ANDROID_HOME%\emulator
%ANDROID_HOME%\tools
%ANDROID_HOME%\tools\bin
</code></pre></div><ul><li><p>创建项目 <code>npx react-native init AwesomeProject</code></p></li> <li><p>创建cli:<code>npm install -g react-native-cli</code></p></li> <li><p>更改文件，此处可以选择将离线包提前发到对应目录，来节约下载时间</p></li></ul> <img src="/rn2.png"> <img src="/rn3.png"> <ul><li>使用阿里云镜像，来替代需要翻墙的google()和jcenter（）
<img src="/rn4.png"></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>将android/build.gradle中的jcenter()和google()分别替换为maven { url 'https://maven.aliyun.com/repository/jcenter' }和maven { url 'https://maven.aliyun.com/repository/google' }（注意有多处需要替换）。</p></div> <ul><li>安卓lincences问题</li></ul> <p>为解决如下报错
::: md
Failed to install the following Android SDK packages as some licences have not been accepted.</p> <p>You have not accepted the license agreements of the following SDK components:</p> <p>[Android SDK Build-Tools 24, Android SDK Platform 24].</p> <p>Before building your project, you need to accept the license agreements and complete the installation of the missing components using the Android Studio SDK Manager.</p> <p>Alternatively, to learn how to transfer the license agreements from one workstation to another, go to http://d.android.com/r/studio-ui/export-licenses.html
:::</p> <p>处理方法：</p> <ul><li>首先打开命令行，进入到报错的sdk路径，找到可以处理licences的文件</li></ul> <p>::: sh
cd C:\Users\17720\AppData\Local\Android\SDK</p> <p>cd tools</p> <p>cd bin
:::</p> <ul><li>这时该路径下有一个windows批处理文件sdkmanager，用这个来解决问题，调用命令</li></ul> <p>::: sh
sdkmanager --licenses
:::</p> <ul><li><p>然后等一小会就巴拉巴拉一大堆licenses等待你同意，全部选yes就可以</p></li> <li><p>将程序连接到模拟器</p></li></ul> <p>::: sh
adb connect 127.0.0.1:7555</p> <p>adb devices
:::</p> <p>有提示信息就说明连上了。这里用的网易mumu模拟器，端口为7555</p> <img src="/rn5.png"> <ul><li>运行</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> AwesomeProject
<span class="token function">yarn</span> android
<span class="token comment"># 或者</span>
<span class="token function">yarn</span> react-native run-android
</code></pre></div><p>node窗口不要关，是负责同步代码的。成功后就能看到
<img src="/rn6.png"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/shouye/react.html" class="prev">
        react随笔
      </a></span> <span class="next"><a href="/shouye/webpack.html">
        webpack 1.0 配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.4b9f0a6a.js" defer></script><script src="/assets/js/2.2dc7f74a.js" defer></script><script src="/assets/js/19.82560418.js" defer></script>
  </body>
</html>
